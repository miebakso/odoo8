<openerp>
	<data>

		<menuitem id="franchisee_menu_root" name="Franchisee" sequence="20" />
		<menuitem id="franchisee_menu_config" name="Configuration" sequence="1" parent="franchisee_menu_root" />



		<!-- Tier =================================================================================================================== -->

		<record id="franchisee_tier_form" model="ir.ui.view">
			<field name="name">franchisee.tier.form</field>
			<field name="model">franchisee.tier</field>
			<field name="arch" type="xml">
				<form>
					<group>
						<field name="name" />
						<field name="percentage" />
					</group>
				</form>
			</field>
		</record>

		<record id="franchisee_tier_tree" model="ir.ui.view">
			<field name="name">franchisee.tier.tree</field>
			<field name="model">franchisee.tier</field>
			<field name="arch" type="xml">
				<tree>
					<field name="name" />
					<field name="percentage" />
				</tree>
			</field>
		</record>

		<record id="franchisee_action_tier" model="ir.actions.act_window">
			<field name="name">Tiers</field>
			<field name="res_model">franchisee.tier</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem id="franchisee_menu_tier" sequence="1" parent="franchisee_menu_config" action="franchisee_action_tier" />

		<!-- Franchisee ============================================================================================================= -->

		<record id="franchisee_res_partner_form" model="ir.ui.view">
			<field name="name">franchisee.res.partner.form.inherit</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form"/>
			<field name="arch" type="xml">
				<xpath expr="//notebook" position="inside">
					<page string="Franchisee">
						<group>
							<field name="is_franchisee" />
							<field name="tier_id" attrs="{'required':[('is_franchisee','=',True)],'invisible':[('is_franchisee','=',False)]}" />
						</group>
					</page>
				</xpath>
			</field>
		</record>

		<record id="franchisee_res_partner_tree" model="ir.ui.view">
			<field name="name">franchisee.res.partner.tree</field>
			<field name="model">res.partner</field>
			<field name="view_id" ref="franchisee_res_partner_form"/>
			<field name="arch" type="xml">
				<tree>
				</tree>
			</field>
		</record>

		<record id="franchisee_action_res_partner" model="ir.actions.act_window">
			<field name="name">Franchisees</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem id="franchisee_menu_franchisee" sequence="2" parent="franchisee_menu_config" action="franchisee_action_res_partner" />

		<!-- Invoice ============================================================================================================= -->

		<record id="franchisee_account_invoice_form" model="ir.ui.view">
			<field name="name">franchisee.account.invoice.form.inherit</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				<field position="after" name="partner_id">
					<field name="franchisee_id" />
				</field>
			</field>
		</record>

		<record id="franchisee_account_invoice_tree" model="ir.ui.view">
			<field name="name">franchisee.account.invoice.tree</field>
			<field name="model">account.invoice</field>
			<field name="view_id" ref="franchisee_account_invoice_form"/>
			<field name="arch" type="xml">
				<tree>
					<field name="franchisee_id" />
				</tree>
			</field>
		</record>

		<record id="franchisee_action_invoice" model="ir.actions.act_window">
			<field name="name">Invoice</field>
			<field name="res_model">account.invoice</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<menuitem id="franchisee_menu_invoice" sequence="2" parent="franchisee_menu_config" action="franchisee_action_invoice" />

		<!-- Login ============================================================================================================= -->

		<record id="franchisee_res_users_form" model="ir.ui.view">
			<field name="name">franchisee.res.users.form.inherit</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_form"/>
			<field name="arch" type="xml">
				<!-- <form create="false"> -->
					<field position="after" name="login">
						<label for="franchisee_id" class="oe_edit_only" string="Franchisee"/>
						<field name="franchisee_id" />
					</field>
				<!-- </form> -->
			</field>
		</record>

		<record id="franchisee_res_users_tree" model="ir.ui.view">
			<field name="name">franchisee.res.users.tree</field>
			<field name="model">res.users</field>
			<field name="view_id" ref="base.view_users_tree"/>
			<field name="arch" type="xml">
				<tree create="false">
					<field name="franchisee_id" />
				</tree>
			</field>
		</record>

		<record id="franchisee_action_users" model="ir.actions.act_window">
			<field name="name">Users</field>
			<field name="res_model">res.users</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<menuitem id="franchisee_menu_users" sequence="2" parent="franchisee_menu_config" action="franchisee_action_users" />

		<!-- Bill ============================================================================================================= -->
		<record id="franchisee_bill_form" model="ir.ui.view">
			<field name="name">franchisee.bill.form</field>
			<field name="model">franchisee.bill</field>
			<field name="arch" type="xml">
				<form create="false">
					<header>
						<field name="state" readonly="1" widget="statusbar"/>
					</header>
					<group>
						<field name="invoice_id" />
						<field name="customer" />
						<field name="franchisee" />
						<field name="date" />
						<field name="total_bill" />
						<field name="nilai_komisi" />
					</group>
				</form>
			</field>
		</record>

		<record id="franchisee_bill_tree" model="ir.ui.view">
			<field name="name">franchisee.bill.tree</field>
			<field name="model">franchisee.bill</field>
			<field name="arch" type="xml">
				<tree create="false">
					<field name="invoice_id" />
					<field name="customer" />
					<field name="franchisee" />
					<field name="date" />
					<field name="total_bill" />
					<field name="nilai_komisi" />
					<field name="state" />
				</tree>
			</field>
		</record>

		<record id="franchisee_action_bill" model="ir.actions.act_window">
			<field name="name">Bill</field>
			<field name="res_model">franchisee.bill</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<menuitem id="franchisee_menu_bill" sequence="2" parent="franchisee_menu_config" action="franchisee_action_bill" />

	</data>
</openerp>